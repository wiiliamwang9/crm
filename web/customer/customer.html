<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="customer.css" />
    <link rel="stylesheet" href="customer_styleguide.css" />
    <link rel="stylesheet" href="customer_style.css" />
  </head>
  <body>
    <div class="screen">
      <div class="view">
        <div class="div">
          <img class="img" src="../statics/white_left.svg" />
          <div class="text-wrapper">我的客户</div>
          <img class="img" src="../statics/1white_more-one.svg" />
        </div>
      </div>
      <div class="view-2">
        <div class="view-3">
          <div class="components-tab">
            <div class="hover"></div>
            <div class="text">全部</div>
          </div>
          <div class="components-tab-2"><div class="text-2">今日待跟进</div></div>
          <div class="components-tab">
            <div class="hover-2"></div>
            <div class="text">近期待跟进</div>
          </div>
          <div class="components-tab">
            <div class="hover-3"></div>
            <div class="text">从未联系</div>
          </div>
          <div class="components-tab">
            <div class="hover-3"></div>
            <div class="text">从未下单</div>
          </div>
          <div class="components-tab">
            <div class="hover"></div>
            <div class="text">公海</div>
          </div>
          <div class="components-tab">
            <div class="hover-3"></div>
            <div class="text">不用跟进</div>
          </div>
          <div class="components-tab">
            <div class="hover-4"></div>
            <div class="text">黑名单</div>
          </div>
        </div>
        <div class="view-8" onclick="window.location.href='../query/query_target.html'" style="cursor: pointer;">
          <img class="img-3" src="https://c.animaapp.com/mewiuc6y0Nbcsg/img/search.svg" />
          <div class="text-wrapper-7">搜索客户...</div>
        </div>
        <div class="frame">
          <div class="frame-4"><div class="text-wrapper-6">添加客户</div></div>
          <div class="count-sort-group">
            <p class="element">
              <span class="span">共 </span>
              <span class="text-wrapper-2">7</span>
              <span class="span"> 条</span>
            </p>
            <div class="view-4">
              <div class="text-wrapper-3">排序：营业额</div>
              <img class="img-2" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/chevron-down.svg" />
            </div>
          </div>
        </div>
      </div>
      <div class="view-5">
        <div class="frame-2">
          <div class="view-6">
            <div class="status-filter-btn status-selected" data-filter="全部"><div class="status-filter-label-selected">全部</div></div>
            <div class="frame-3">
              <div class="status-filter-btn" data-filter="待办"><div class="status-filter-label">待办</div></div>
              <div class="status-filter-btn" data-filter="定期"><div class="status-filter-label">定期</div></div>
              <div class="status-filter-btn" data-filter="已发样"><div class="status-filter-label">已发样</div></div>
              <div class="status-filter-btn" data-filter="已发货"><div class="status-filter-label">已发货</div></div>
            </div>
          </div>
        </div>
        <div class="view-7">
          <div class="view-8">
            <div class="view-9">
              <img class="image" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/---4.png" />
              <div class="view-10">
                <div class="view-11">
                  <div class="text-wrapper-7">徐小二</div>
                  <div class="text-wrapper-8">|</div>
                  <div class="text-wrapper-9">副食品批发</div>
                  <img class="img-2" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/clock.svg" />
                </div>
                <div class="view-12">
                  <div class="frame-5"><div class="text-wrapper-10">大客户</div></div>
                  <div class="frame-6"><div class="text-wrapper-11">新客户</div></div>
                  <div class="frame-7"><div class="text-wrapper-12">从未下单</div></div>
                </div>
                <div class="text-wrapper-13">昨天约了今天电话</div>
              </div>
            </div>
            <div class="view-13">
              <div class="frame-8">
                <img class="img-2" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/wechatoutlined.svg" />
                <div class="text-wrapper-14">发微信</div>
              </div>
              <div class="frame-9">
                <img class="vector" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/vector.svg" />
                <div class="text-wrapper-15">加待办</div>
              </div>
              <img class="frame-10" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/frame-6.svg" />
            </div>
          </div>
          <div class="view-8">
            <div class="view-9">
              <img class="image" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/---4.png" />
              <div class="view-10">
                <div class="view-11">
                  <div class="text-wrapper-7">徐小二</div>
                  <div class="text-wrapper-8">|</div>
                  <div class="text-wrapper-9">副食品批发</div>
                  <img class="img-2" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/clock.svg" />
                </div>
                <div class="view-12">
                  <div class="frame-5"><div class="text-wrapper-10">大客户</div></div>
                  <div class="frame-6"><div class="text-wrapper-11">新客户</div></div>
                  <div class="frame-7"><div class="text-wrapper-12">从未下单</div></div>
                </div>
                <div class="text-wrapper-13">昨天约了今天电话</div>
              </div>
            </div>
            <div class="view-13">
              <div class="frame-8">
                <img class="img-2" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/wechatoutlined.svg" />
                <div class="text-wrapper-14">发微信</div>
              </div>
              <div class="frame-9">
                <img class="vector" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/vector.svg" />
                <div class="text-wrapper-15">加待办</div>
              </div>
              <img class="frame-10" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/frame-6.svg" />
            </div>
          </div>
          <div class="view-8">
            <div class="view-9">
              <img class="image" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/---4.png" />
              <div class="view-10">
                <div class="view-11">
                  <div class="text-wrapper-7">徐小二</div>
                  <div class="text-wrapper-8">|</div>
                  <div class="text-wrapper-9">副食品批发</div>
                  <img class="img-2" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/clock.svg" />
                </div>
                <div class="view-12">
                  <div class="frame-5"><div class="text-wrapper-10">大客户</div></div>
                  <div class="frame-6"><div class="text-wrapper-11">新客户</div></div>
                  <div class="frame-7"><div class="text-wrapper-12">从未下单</div></div>
                </div>
                <div class="text-wrapper-13">昨天约了今天电话</div>
              </div>
            </div>
            <div class="view-13">
              <div class="frame-8">
                <img class="img-2" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/wechatoutlined.svg" />
                <div class="text-wrapper-14">发微信</div>
              </div>
              <div class="frame-9">
                <img class="vector" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/vector.svg" />
                <div class="text-wrapper-15">加待办</div>
              </div>
              <img class="frame-10" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/frame-6.svg" />
            </div>
          </div>
          <div class="view-8">
            <div class="view-9">
              <img class="image" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/---4.png" />
              <div class="view-10">
                <div class="view-11">
                  <div class="text-wrapper-7">徐小二</div>
                  <div class="text-wrapper-8">|</div>
                  <div class="text-wrapper-9">副食品批发</div>
                  <img class="img-2" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/clock.svg" />
                </div>
                <div class="view-12">
                  <div class="frame-5"><div class="text-wrapper-10">大客户</div></div>
                  <div class="frame-6"><div class="text-wrapper-11">新客户</div></div>
                  <div class="frame-7"><div class="text-wrapper-12">从未下单</div></div>
                </div>
                <div class="text-wrapper-13">昨天约了今天电话</div>
              </div>
            </div>
            <div class="view-13">
              <div class="frame-8">
                <img class="img-2" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/wechatoutlined.svg" />
                <div class="text-wrapper-14">发微信</div>
              </div>
              <div class="frame-9">
                <img class="vector" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/vector.svg" />
                <div class="text-wrapper-15">加待办</div>
              </div>
              <img class="frame-10" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/frame-6.svg" />
            </div>
          </div>
          <div class="view-8">
            <div class="view-9">
              <img class="image" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/---4.png" />
              <div class="view-10">
                <div class="view-11">
                  <div class="text-wrapper-7">徐小二</div>
                  <div class="text-wrapper-8">|</div>
                  <div class="text-wrapper-9">副食品批发</div>
                  <img class="img-2" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/clock.svg" />
                </div>
                <div class="view-12">
                  <div class="frame-5"><div class="text-wrapper-10">大客户</div></div>
                  <div class="frame-6"><div class="text-wrapper-11">新客户</div></div>
                  <div class="frame-7"><div class="text-wrapper-12">从未下单</div></div>
                </div>
                <div class="text-wrapper-13">昨天约了今天电话</div>
              </div>
            </div>
            <div class="view-13">
              <div class="frame-8">
                <img class="img-2" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/wechatoutlined.svg" />
                <div class="text-wrapper-14">发微信</div>
              </div>
              <div class="frame-9">
                <img class="vector" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/vector.svg" />
                <div class="text-wrapper-15">加待办</div>
              </div>
              <img class="frame-10" src="https://c.animaapp.com/mewmmw1gVzPlXu/img/frame-6.svg" />
            </div>
          </div>
        </div>
      </div>
      <div class="view-14">
        <div class="frame-11" onclick="window.location.href='../homepage/homepage.html'" style="cursor: pointer;">
          <img class="img-3" src="../statics/home.svg" />
          <div class="text-wrapper-16">首页</div>
        </div>
        <div class="frame-11">
          <img class="img-3" src="../statics/personal-collection.svg" width="22" height="22" />
          <div class="text-wrapper-17">客户</div>
        </div>
        <div class="frame-11">
          <img class="img-3" src="../statics/optional.svg" width="22" height="22" />
          <div class="text-wrapper-16">业绩</div>
        </div>
        <div class="frame-11">
           <img class="img-3" src="../statics/config.svg" width="22" height="22" />
          <div class="text-wrapper-16">设置</div>
        </div>
      </div>
    </div>
    <script>
      // Tab切换功能
      document.addEventListener('DOMContentLoaded', function() {
        // 获取所有的tab元素
        const tabs = document.querySelectorAll('.components-tab');
        
        // 为每个tab添加点击事件
        tabs.forEach(tab => {
          tab.addEventListener('click', function() {
            // 移除所有tab的激活状态
            tabs.forEach(t => {
              t.className = 'components-tab';
              const textElement = t.querySelector('.text, .text-2');
              if (textElement) {
                textElement.className = 'text';
              }
            });
            
            // 为当前点击的tab添加激活状态
            this.className = 'components-tab-2';
            const currentTextElement = this.querySelector('.text, .text-2');
            if (currentTextElement) {
              currentTextElement.className = 'text-2';
            }
          });
        });
        
        // 状态筛选功能
        const statusFilterBtns = document.querySelectorAll('.status-filter-btn');
        
        function resetAllStatusFilters() {
          statusFilterBtns.forEach(btn => {
            // 移除选中状态
            btn.classList.remove('status-selected');
            
            // 强制重置所有文本标签
            const labels = btn.querySelectorAll('.status-filter-label-selected, .status-filter-label');
            labels.forEach(label => {
              label.className = 'status-filter-label';
              // 强制清除内联样式
              label.style.color = '';
            });
          });
        }
        
        function setActiveStatus(btn) {
          // 添加选中状态
          btn.classList.add('status-selected');
          
          // 设置文本为选中样式
          const label = btn.querySelector('.status-filter-label');
          if (label) {
            label.className = 'status-filter-label-selected';
          }
        }
        
        statusFilterBtns.forEach(btn => {
          btn.addEventListener('click', function() {
            const filterValue = this.getAttribute('data-filter');
            console.log('点击状态:', filterValue);
            
            // 先重置所有状态
            resetAllStatusFilters();
            
            // 延迟设置当前状态，确保重置完成
            setTimeout(() => {
              setActiveStatus(this);
              console.log('设置激活状态完成:', filterValue);
              
              // 验证当前状态
              const allBtns = document.querySelectorAll('.status-filter-btn');
              allBtns.forEach(b => {
                const label = b.querySelector('.status-filter-label-selected, .status-filter-label');
                console.log('按钮:', b.getAttribute('data-filter'), '类名:', label ? label.className : 'null', '选中:', b.classList.contains('status-selected'));
              });
            }, 10);
            
            // 根据筛选条件加载数据
            loadCustomersByStatus(filterValue);
          });
        });
        
        // 加载客户数据的函数
        function loadCustomersByStatus(status) {
          console.log('Loading customers with status:', status);
          // 这里可以添加API调用来获取对应状态的客户数据
          // 例如：
          // fetch(`/api/customers?status=${status}`)
          //   .then(response => response.json())
          //   .then(data => updateCustomerList(data));
        }
        
        // 初始加载全部客户数据
        loadCustomersByStatus('全部');
      });
    </script>
  </body>
</html>
